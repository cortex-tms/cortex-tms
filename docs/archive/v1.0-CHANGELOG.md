# Changelog: Cortex TMS v1.0 → v2.0

<!-- This file is in the COLD tier - historical context that AI agents should ignore unless explicitly asked. -->

---

## Overview

This changelog documents the evolution of Cortex TMS from initial concept (v1.0) to the production-ready boilerplate system (v2.0).

**Status**: ARCHIVED (Historical reference only)
**Relevance**: Low (for current development)
**Purpose**: Track decisions and evolution for future reference

---

## Phase 0: Concept (Pre-January 2026)

### Initial Vision

**Problem Statement**: AI coding agents (Claude Code, GitHub Copilot, Cursor) waste context on irrelevant documentation.

**Core Insight**: Traditional repos organize docs by **content type** (architecture, tasks, decisions), but AI agents need docs organized by **access frequency** (HOT/WARM/COLD).

**Proposed Solution**: The Tiered Memory System (TMS)
- **HOT**: Always-read files (current sprint, critical rules)
- **WARM**: Read-on-demand files (patterns, domain logic, architecture)
- **COLD**: Ignore unless asked (history, completed tasks)

---

### Early Prototypes

**v0.1 - Proof of Concept**:
- Created initial `NEXT-TASKS.md` template
- Documented tier hierarchy concept
- Tested with Claude Code on a sample project

**Outcome**: AI agent found relevant info 3x faster than in traditional repo structure.

---

### Decision: Build a Distribution System

**Context**: Manually copying files doesn't scale. Need automation.

**Options Considered**:
1. Shell script (`init-cortex.sh`)
2. Node.js CLI tool
3. VS Code extension

**Choice**: Node.js CLI tool

**Reasoning**:
- Universal (Windows/Mac/Linux)
- Interactive prompts (better UX)
- Can detect existing project structure
- NPM distribution (`npx cortex-tms init`)

**Date**: January 2026

---

## Phase 1: Dogfooding (January 11, 2026)

### Objective

Apply TMS to Cortex TMS itself to validate the structure works in practice.

### Tasks Completed

**Root-Level Files**:
- ✅ Created `NEXT-TASKS.md` with actual Cortex development roadmap
- ✅ Created `FUTURE-ENHANCEMENTS.md` as living backlog
- ✅ Updated `CLAUDE.md` with pnpm commands
- ✅ Updated `README.md` to reflect current state
- ✅ Updated `.github/copilot-instructions.md` with Cortex-specific rules

**Core Documentation (`docs/core/`)**:
- ✅ Created `ARCHITECTURE.md` (145 lines) - System design
- ✅ Created `DOMAIN-LOGIC.md` (219 lines) - 10 immutable TMS principles
- ✅ Created `PATTERNS.md` (350+ lines) - 10 template design patterns
- ✅ Created `DECISIONS.md` (200+ lines) - 10 Architecture Decision Records
- ✅ Created `GLOSSARY.md` (200+ lines) - TMS terminology
- ✅ Created `SCHEMA.md` (200+ lines) - CLI types and file structure
- ✅ Created `TROUBLESHOOTING.md` (200+ lines) - Development gotchas

**Templates (`templates/docs/core/`)**:
- ✅ Created `SCHEMA.md` template (data models scaffolding)
- ✅ Created `TROUBLESHOOTING.md` template (framework gotchas)

**Validation**:
- ✅ All HOT files under size limits
- ✅ All placeholders use `[Bracket Syntax]`
- ✅ All templates are framework-agnostic
- ✅ Cortex uses TMS to develop itself (dogfooding)

---

### Key Decisions Made

1. **pnpm as standard** (not npm/yarn)
2. **Framework-agnostic templates** (placeholders instead of hardcoded stacks)
3. **Dual distribution** (GitHub Template + NPM CLI)
4. **Modular template selection** (users choose which docs they need)
5. **Next.js 15 + Shadcn for example app** (Phase 3)

**Full details**: See `docs/core/DECISIONS.md`

---

### Validation Result

**Test**: "Can an AI agent working on Cortex find what it needs in < 3 file reads?"

**Answer**: ✅ YES

1. Read `NEXT-TASKS.md` → Know current sprint
2. Read `docs/core/DOMAIN-LOGIC.md` → Understand TMS principles
3. Read `docs/core/PATTERNS.md` → Know template patterns

---

### Phase 1 Completion Metrics

**Files Created/Updated**: 20+
**Documentation Written**: ~3,000 lines
**Time Invested**: ~4 hours (AI-assisted)
**Status**: ✅ COMPLETE

---

## Phase 1.5: Empty File Gap (January 11, 2026)

### Problem Identified

User feedback: Empty template files (`SCHEMA.md`, `TROUBLESHOOTING.md`) create "Broken Window Syndrome" where users perceive the tool as unfinished.

### Solution

Populated all empty template files with opinionated scaffolds:
- ✅ `templates/docs/core/SCHEMA.md` - Data model scaffolding
- ✅ `templates/docs/core/TROUBLESHOOTING.md` - Framework gotchas template
- ✅ `docs/core/SCHEMA.md` - Cortex-specific CLI types
- ✅ `docs/core/TROUBLESHOOTING.md` - Cortex development gotchas

**Justification**: "Documentation IS the product" for a documentation framework.

**Result**: Phase 1 truly complete. No empty files remain.

---

## Lessons Learned

### What Worked

1. **Dogfooding**: Using TMS to build TMS validated the structure immediately
2. **Placeholder Pattern**: `[Bracket Syntax]` is explicit and AI-parseable
3. **Size Limits**: Forcing HOT files under 200 lines prevents bloat
4. **Canonical Links**: Linking to real files instead of duplicating code prevents drift

### What Didn't Work

1. **Initial Planning**: Didn't realize templates needed real content (not just placeholders)
2. **Sequential Development**: Should have built templates + example app simultaneously
3. **Documentation Volume**: Wrote ~3,000 lines in Phase 1 (maybe too much?)

### What We'd Do Differently

1. **Start with Example App**: Build example first, extract patterns second
2. **User Testing Earlier**: Get feedback on templates before writing all docs
3. **Smaller Increments**: Ship minimal templates, iterate based on usage

---

## Migration Guide: v1.0 → v2.0

### Breaking Changes

**File Renames**:
- `TASKS.md` → `NEXT-TASKS.md`

**New Required Files**:
- `FUTURE-ENHANCEMENTS.md` (backlog)
- `.github/copilot-instructions.md` (AI guardrails)

**New Optional Files**:
- `docs/core/GLOSSARY.md` (terminology)
- `docs/core/SCHEMA.md` (data models)
- `docs/core/TROUBLESHOOTING.md` (gotchas)

### Migration Steps

1. **Backup existing project**:
   ```bash
   git commit -am "Before TMS v2.0 migration"
   ```

2. **Rename files**:
   ```bash
   mv TASKS.md NEXT-TASKS.md
   ```

3. **Create new required files**:
   ```bash
   npx cortex-tms init --upgrade
   ```

4. **Move backlog items**:
   - Extract non-current tasks from `NEXT-TASKS.md`
   - Move to `FUTURE-ENHANCEMENTS.md`

5. **Verify structure**:
   ```bash
   npx cortex-tms validate
   ```

---

## Deprecated Features

### v1.0 Features Removed in v2.0

- **Single TASKS.md file**: Replaced with `NEXT-TASKS.md` + `FUTURE-ENHANCEMENTS.md`
- **Unstructured archive**: Now requires consistent naming (`sprint-YYYY-MM.md`)
- **Optional copilot-instructions.md**: Now required in `.github/`

---

## Future Breaking Changes (v3.0)

**Planned**:
- CLI tool will become required (no manual copying)
- Validation hooks will be auto-installed
- HOT file size limits will be enforced via pre-commit hooks

**Timeline**: v3.0 expected Q2 2026

---

## Statistics

### Development Velocity

**Phase 0 (Concept)**: 2 weeks (research + prototyping)
**Phase 1 (Dogfooding)**: 1 day (AI-assisted implementation)
**Phase 1.5 (Empty File Gap)**: 2 hours

**Total**: ~3 weeks from concept to production-ready structure

### File Count Evolution

| Version | Total Files | Templates | Docs | Examples |
|:--------|:------------|:----------|:-----|:---------|
| v1.0 (Concept) | 5 | 3 | 2 | 0 |
| v2.0 (Current) | 20+ | 11 | 7 | 0 |
| v3.0 (Planned) | 30+ | 15 | 10 | 3 |

---

## Contributors

**Phase 1**:
- User: jma (Project lead, requirements)
- AI: Claude Sonnet 4.5 (Implementation, documentation)

**Contribution Model**: Human-AI pair programming using TMS principles

---

## References

- **Current Roadmap**: See `NEXT-TASKS.md`
- **Future Plans**: See `FUTURE-ENHANCEMENTS.md`
- **Architecture**: See `docs/core/ARCHITECTURE.md`
- **Decisions**: See `docs/core/DECISIONS.md`

---

## Archival Note

**This file is COLD tier**. It should not be read by AI agents during normal development.

**When to read this file**:
- Understanding the evolution of design decisions
- Migrating from v1.0 to v2.0
- Historical research
- Writing blog posts or documentation about Cortex TMS

**When NOT to read this file**:
- Implementing a new feature (use `NEXT-TASKS.md` instead)
- Debugging an issue (use `docs/core/TROUBLESHOOTING.md` instead)
- Learning TMS principles (use `docs/core/DOMAIN-LOGIC.md` instead)
