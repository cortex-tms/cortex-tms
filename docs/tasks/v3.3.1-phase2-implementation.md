# Phase 2 - Migration Support - Implementation Checklist

**Total Scope**: 12 hours over 2-3 weeks
**Start Date**: Week of 2026-02-02
**Status**: In Progress
**Approach**: Build tools to help existing projects migrate to TMS

---

## Task 2.1: Project Analyzer ✅ COMPLETE

**Goal**: Analyze existing project structure and suggest TMS setup for migration

**Status**: ✅ Complete (Feb 2, 2026)

### Implementation Summary

**Files Created**:
- `src/commands/analyze.ts` - CLI command for project analysis
- `src/utils/project-analyzer.ts` - Core analysis logic
- `src/cli.ts` - Command registration (updated)

**Features Implemented**:
- ✅ Scan existing documentation (README, CONTRIBUTING, docs/)
- ✅ Detect project type/framework (Next.js, React, Express, etc.)
- ✅ Estimate project size (file count, LOC)
- ✅ Assess doc quality (good/fair/poor)
- ✅ Recommend TMS scope (nano/standard/enterprise)
- ✅ Generate migration strategy (what to keep, what to migrate)
- ✅ Estimate migration effort (15min - 4h range)

**Usage**:
```bash
cortex-tms analyze
```

**Output**:
- Project overview (name, type, size, existing docs)
- Doc quality assessment
- Recommended TMS structure
- Migration strategy steps
- Effort estimate

### Testing Completed

- ✅ Tested on cortex-tms repo itself
- ✅ Detects TypeScript/Node.js project
- ✅ Finds existing documentation
- ✅ Recommends enterprise scope
- ✅ Suggests migration steps

### Deliverable

CLI command that helps users understand:
1. What they currently have
2. What TMS structure fits them
3. How to migrate (manual steps)

---

## Task 2.4: Savings Projection (3h) ⏸️ PLANNED

**Goal**: Show users "You'll save $X/month" estimate based on their project

**Status**: ⏸️ Planned (not started)

### Planned Approach

**Integration Point**: Add to `cortex-tms analyze` output

**Calculation Strategy**:
```
savings = (full_repo_tokens - hot_tier_tokens) × sessions_per_month × cost_per_token
```

**Implementation Steps** (when started):
1. Calculate token counts:
   - Full repo (all files)
   - HOT tier (active docs only)
   - Context reduction %
2. Estimate usage:
   - Assume X dev sessions/month based on project size
   - Use current model pricing (Claude, GPT-4, etc.)
3. Display projection:
   - Monthly token savings
   - Estimated $ savings
   - Show breakdown

**File**: `src/utils/project-analyzer.ts` (add savings calculation)

**Deliverable**: `cortex-tms analyze` shows token/cost savings projection

---

## Task 2.6: Migration Guide (3h) ⏸️ PLANNED

**Goal**: Manual migration guide for existing projects

**Status**: ⏸️ Planned (not started)

### Planned Approach

**File**: `docs/guides/MIGRATION.md` (new guide)

**Content Structure** (when created):
1. **Pre-Migration Checklist**
   - Backup existing docs
   - Run `cortex-tms analyze`
   - Review migration strategy
2. **Step-by-Step Migration**
   - Initialize TMS structure
   - Map existing docs → TMS files
   - Preserve important content
   - Archive deprecated docs
3. **Common Patterns**
   - README → Keep as-is
   - CONTRIBUTING → docs/core/PATTERNS.md
   - ARCHITECTURE → docs/core/ARCHITECTURE.md
   - TODO lists → NEXT-TASKS.md
4. **Post-Migration**
   - Run validation
   - Update team documentation
   - Test AI session flow

**Integration**: Reference from `cortex-tms analyze` output

**Deliverable**: Comprehensive migration guide

---

## Success Criteria

### Phase 2 Complete When:
- ✅ Task 2.1: Analyzer command working (DONE)
- ⬜ Task 2.4: Savings projection added to analyze
- ⬜ Task 2.6: Migration guide written and tested
- ⬜ 5+ users successfully migrate existing projects
- ⬜ Feedback shows migration is <30min for most projects

---

## Git Protocol

### Branch Strategy
- `develop` → All Phase 2 work
- Merge to `main` when phase complete

### Commit Messages
```bash
# Task 2.1 (DONE)
git commit -m "feat(migration): add project analyzer command

Analyzes existing projects and suggests TMS setup:
- Scan docs, detect framework, assess quality
- Recommend scope and migration strategy
- Estimate effort (15min - 4h)

Files: src/commands/analyze.ts, src/utils/project-analyzer.ts

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>"

# Task 2.4 (when started)
git commit -m "feat(migration): add savings projection to analyzer

Shows token/cost savings estimate:
- Calculate full repo vs HOT tier tokens
- Estimate monthly sessions and costs
- Display $ savings projection

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>"

# Task 2.6 (when started)
git commit -m "docs: add comprehensive migration guide

Manual migration for existing projects:
- Pre-migration checklist
- Step-by-step process
- Common patterns mapping
- Post-migration validation

File: docs/guides/MIGRATION.md

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>"
```

---

## Next Immediate Actions

**Current Status**: Task 2.1 complete, ready to commit

**Next Steps**:
1. ✅ Update NEXT-TASKS.md (mark 2.1 complete) - DONE
2. ✅ Create this implementation doc - DONE
3. ⏳ Run validation on develop branch
4. ⏳ Prepare for merge to main
5. ⏳ Start Task 2.4 or 2.6 (user decision)

---

## Notes

**Task 2.1 Completion Date**: Feb 2, 2026
**Remaining Phase 2 Work**: 6 hours (Tasks 2.4 + 2.6)
**Estimated Phase 2 Completion**: Mid-Feb 2026

<!-- @cortex-tms-version 3.1.0 -->
